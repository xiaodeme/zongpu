# 环境变量配置说明

## 问题
如果 `.env` 文件中设置了 `VITE_BACKEND_URL=http://localhost:9621`，其他电脑通过IP地址访问时会无法连接到后端。

## 解决方案

### 方案1：修改环境变量为IP地址（推荐）

在 `client/.env` 文件中设置：

```env
VITE_BACKEND_URL=http://192.168.3.18:9621
```

这样无论本机还是其他电脑访问，都会使用正确的IP地址。

### 方案2：删除环境变量，使用动态检测

删除 `client/.env` 文件中的 `VITE_BACKEND_URL` 配置，让代码自动根据访问地址动态检测后端URL。

**优点：**
- 本机访问时自动使用 `localhost:9621`
- 其他电脑通过IP访问时自动使用 `192.168.3.18:9621`

**缺点：**
- 如果服务器IP地址变化，需要重新配置

## 当前代码行为

代码已经智能处理这种情况：
- 如果环境变量指向 `localhost`，但当前访问是IP地址，会自动忽略环境变量，使用动态检测
- 确保非本机访问时能正确连接到后端服务器

## 推荐配置

```env
# client/.env
# 使用服务器的实际IP地址
VITE_BACKEND_URL=http://192.168.3.18:9621
```

然后重启开发服务器：
```bash
cd client
npm run dev
```

